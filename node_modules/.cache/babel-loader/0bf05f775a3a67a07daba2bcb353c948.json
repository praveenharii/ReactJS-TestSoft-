{"ast":null,"code":"import _slicedToArray from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\React\\\\testapp1\\\\src\\\\Pages\\\\ViewUsers.js\";\nimport React, { useEffect, useState } from 'react';\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Link } from 'react-router-dom';\nimport ReactPaginate from \"react-paginate\";\nexport default function ViewUsers() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(4),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentPage = _useState4[0],\n    setCurrentPage = _useState4[1];\n  var _useState5 = useState(5),\n    _useState6 = _slicedToArray(_useState5, 2),\n    limit = _useState6[0],\n    setLimit = _useState6[1];\n  var _useState7 = useState(1),\n    _useState8 = _slicedToArray(_useState7, 2),\n    pageCount = _useState8[0],\n    setPageCount = _useState8[1]; //  const [userType, setUserType] = useState(\"\");\n  useEffect(function () {\n    //  getAlluser();\n    getPaginatedUsers();\n  }, []);\n  var getAlluser = function getAlluser() {\n    fetch(\"http://localhost:5000/getAllUsers\", {\n      method: \"GET\"\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log(data, \"userData\");\n      setData(data.data);\n      //setUserType(data.data.userType);\n    });\n  };\n\n  var logOut = function logOut() {\n    window.localStorage.clear();\n    window.location.href = \"../sign-in\";\n  };\n  var deleteUser = function deleteUser(id, name) {\n    if (window.confirm(\"Please Click Ok if you want to delete user \".concat(name))) {\n      fetch(\"http://localhost:5000/deleteUser\", {\n        method: \"DELETE\",\n        crossDomain: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        body: JSON.stringify({\n          userid: id\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        alert(data.data);\n        getAlluser();\n      });\n    } else {}\n  };\n  function handlePageClick(e) {\n    console.log(e);\n  }\n  function getPaginatedUsers() {\n    fetch(\"http://localhost:5000/paginatedUsers?page=\".concat(currentPage, \"&limit=\").concat(limit), {\n      method: \"GET\"\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log(data, \"userData\");\n      setPageCount(data.pageCount);\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-wrapper\",\n    style: {\n      height: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth-inner\",\n    style: {\n      width: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }\n  }, \"Welcome Admin\"), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/dashboard\"\n    },\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 8\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/dashboard/getAllUsers/createUser\"\n    },\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }\n  }, \"createUser\"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: 500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 14\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 14\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 14\n    }\n  }, \"User Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 14\n    }\n  }, \"Delete\")))), /*#__PURE__*/React.createElement(ReactPaginate, {\n    breakLabel: \"...\",\n    nextLabel: \"next >\",\n    onPageChange: handlePageClick,\n    pageRangeDisplayed: 5,\n    pageCount: pageCount,\n    previousLabel: \"< previous\",\n    renderOnZeroPageCount: null,\n    marginPagesDisplayed: 2,\n    containerClassName: \"pagination justify-content-center\",\n    pageClassName: \"page-item\",\n    pageLinkClassName: \"page-link\",\n    previousClassName: \"page-item\",\n    previousLinkClassName: \"page-link\",\n    nextClassName: \"page-item\",\n    nextLinkClassName: \"page-link\",\n    activeClassName: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logOut,\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 8\n    }\n  }, \"Log Out\")));\n}","map":{"version":3,"names":["React","useEffect","useState","faTrash","FontAwesomeIcon","Link","ReactPaginate","ViewUsers","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","limit","setLimit","_useState7","_useState8","pageCount","setPageCount","getPaginatedUsers","getAlluser","fetch","method","then","res","json","console","log","logOut","window","localStorage","clear","location","href","deleteUser","id","name","confirm","concat","crossDomain","headers","Accept","body","JSON","stringify","userid","alert","handlePageClick","e","createElement","className","style","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","width","to","pathname","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","marginPagesDisplayed","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","activeClassName","onClick"],"sources":["D:/React/testapp1/src/Pages/ViewUsers.js"],"sourcesContent":["\r\nimport React, {useEffect, useState } from 'react';\r\nimport {faTrash} from  \"@fortawesome/free-solid-svg-icons\";\r\nimport {FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {Link} from 'react-router-dom';\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\n\r\nexport default function ViewUsers() {\r\n     const [data, setData] = useState([]);\r\n     const [currentPage, setCurrentPage] = useState(4);\r\n     const [limit, setLimit] = useState(5);\r\n     const [pageCount, setPageCount] = useState(1);\r\n\r\n    //  const [userType, setUserType] = useState(\"\");\r\n  \r\n     useEffect(() => {\r\n      //  getAlluser();\r\n       getPaginatedUsers();\r\n    }, []);\r\n\r\n     \r\n\r\n    const getAlluser = () =>{\r\n      fetch(\"http://localhost:5000/getAllUsers\", {\r\n                     method: \"GET\",\r\n                   })\r\n                   .then((res) => res.json())\r\n                   .then((data) => {\r\n                    console.log(data, \"userData\");\r\n                    setData(data.data);\r\n                    //setUserType(data.data.userType);\r\n     });\r\n    }\r\n\r\n   \r\n\r\n     const logOut = () => {\r\n       window.localStorage.clear();\r\n       window.location.href = \"../sign-in\";\r\n     };\r\n\r\n     const deleteUser = (id,name) => {\r\n      if(window.confirm(`Please Click Ok if you want to delete user ${name}`)){\r\n        fetch(\"http://localhost:5000/deleteUser\", {\r\n        method: \"DELETE\",\r\n                     crossDomain: true,\r\n                     headers: {\r\n                       \"Content-Type\": \"application/json\",\r\n                       Accept: \"application/json\",\r\n                       \"Access-Control-Allow-Origin\": \"*\",\r\n                     },\r\n                     body: JSON.stringify({\r\n                       userid: id,\r\n                       \r\n                     }),\r\n                   })\r\n                     .then((res) => res.json())\r\n                     .then((data) => {\r\n                      alert(data.data);\r\n                      getAlluser();\r\n                     });\r\n      }else{\r\n        \r\n      }\r\n     };\r\n\r\n\r\n     function handlePageClick(e){\r\n       \r\n      console.log(e);\r\n     }\r\n\r\n     function getPaginatedUsers(){\r\n        fetch(\r\n          `http://localhost:5000/paginatedUsers?page=${currentPage}&limit=${limit}`,\r\n          {\r\n            method: \"GET\",\r\n          }\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            console.log(data, \"userData\");\r\n            setPageCount(data.pageCount)\r\n          });\r\n     }\r\n\r\n\r\n\r\n return (\r\n   <div className=\"auth-wrapper\" style={{ height: \"auto\" }}>\r\n     <div className=\"auth-inner\" style={{ width: \"auto\" }}>\r\n       <h3>Welcome Admin</h3>\r\n       <Link\r\n         to={{\r\n           pathname: \"/dashboard\",\r\n         }}\r\n         className=\"btn btn-primary\"\r\n       >\r\n         Dashboard\r\n       </Link>\r\n       <Link\r\n         to={{\r\n           pathname: \"/dashboard/getAllUsers/createUser\",\r\n         }}\r\n         className=\"btn btn-primary\"\r\n       >\r\n         createUser\r\n       </Link>\r\n       <table style={{ width: 500 }}>\r\n         <thead>\r\n           <tr>\r\n             <th>Name</th>\r\n             <th>Email</th>\r\n             <th>User Type</th>\r\n             <th>Delete</th>\r\n           </tr>\r\n         </thead>\r\n         {/* {data.map((i) => {\r\n           return (\r\n             <tbody>\r\n               <tr>\r\n                 <td key={i}>\r\n                   {i.fname} {i.lname}\r\n                 </td>\r\n                 <td>{i.email}</td>\r\n                 <td>{i.userType}</td>\r\n                 <td>\r\n                   <FontAwesomeIcon\r\n                     center\r\n                     icon={faTrash}\r\n                     onClick={() => deleteUser(i._id, i.fname)}\r\n                   />\r\n                 </td>\r\n               </tr>\r\n             </tbody>\r\n           );\r\n         })} */}\r\n       </table>\r\n\r\n       <ReactPaginate\r\n         breakLabel=\"...\"\r\n         nextLabel=\"next >\"\r\n         onPageChange={handlePageClick}\r\n         pageRangeDisplayed={5}\r\n         pageCount={pageCount}\r\n         previousLabel=\"< previous\"\r\n         renderOnZeroPageCount={null}\r\n         marginPagesDisplayed={2}\r\n        \r\n         containerClassName=\"pagination justify-content-center\"\r\n         pageClassName=\"page-item\"\r\n         pageLinkClassName=\"page-link\"\r\n         previousClassName=\"page-item\"\r\n         previousLinkClassName=\"page-link\"\r\n         nextClassName=\"page-item\"\r\n         nextLinkClassName=\"page-link\"\r\n         activeClassName=\"active\"\r\n       />\r\n\r\n       <button onClick={logOut} className=\"btn btn-primary\">\r\n         Log Out\r\n       </button>\r\n     </div>\r\n   </div>\r\n );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}