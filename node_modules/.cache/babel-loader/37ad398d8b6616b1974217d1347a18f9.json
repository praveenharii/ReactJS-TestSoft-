{"ast":null,"code":"import _classCallCheck from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\React\\\\testapp1\\\\src\\\\Components\\\\dashboard.js\";\nimport React, { Component } from \"react\";\nimport adminDashboard from './adminDashboard';\nimport studentDashboard from \"./studentDashboard\";\nvar Dashboard = /*#__PURE__*/function (_Component) {\n  _inherits(Dashboard, _Component);\n  function Dashboard(props) {\n    var _this;\n    _classCallCheck(this, Dashboard);\n    //getting data\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this.logOut = function () {\n      window.localStorage.clear();\n      window.location.href = \"./sign-in\";\n    };\n    _this.state = {\n      admin: false,\n      userData: \"\"\n    };\n    return _this;\n  }\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      fetch(\"http://localhost:5000/userData\", {\n        method: \"POST\",\n        crossDomain: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        body: JSON.stringify({\n          token: window.localStorage.getItem(\"token\")\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data, \"userData\");\n        if (data.data.userData == \"Admin\") {\n          _this2.setState({\n            admin: true\n          });\n        }\n        _this2.setState({\n          userData: data.data\n        }); //getting data\n        /*if( data.data == \"token expired\") {\r\n        alert(\"token expired login again\");\r\n        window.localStorage.clear();\r\n        window.location.href = \"./sign-in\";\r\n        }*/\n      });\n    }\n  }, {\n    key: \"render\",\n    //     render() {\n    //        if(this.state.admin){\n    //         return this.adminDashboard(this.state.userData);\n    //        }\n    //        else{\n    //         return this.studentDashboard(this.state.userData);\n    //        }\n    // }\n    value: function render() {\n      var _this$state = this.state,\n        admin = _this$state.admin,\n        userData = _this$state.userData;\n      if (admin) {\n        return /*#__PURE__*/React.createElement(\"adminDashboard\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"studentDashboard\", {\n          userData: userData,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }\n        });\n      }\n    }\n  }]);\n  return Dashboard;\n}(Component);\nexport { Dashboard as default };","map":{"version":3,"names":["React","Component","adminDashboard","studentDashboard","Dashboard","_Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","logOut","window","localStorage","clear","location","href","state","admin","userData","_createClass","key","value","componentDidMount","_this2","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","token","getItem","then","res","json","data","console","log","setState","render","_this$state","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","default"],"sources":["D:/React/testapp1/src/Components/dashboard.js"],"sourcesContent":["import React, { Component }from \"react\";\r\nimport adminDashboard from './adminDashboard';\r\nimport studentDashboard from \"./studentDashboard\";\r\n\r\n\r\nexport default class Dashboard extends Component {\r\n                 constructor(props) {\r\n                   //getting data\r\n                   super(props);\r\n                   this.state = {\r\n                       admin: false,\r\n                       userData: \"\"\r\n                   };\r\n                 }\r\n\r\n                 componentDidMount() {\r\n                   fetch(\"http://localhost:5000/userData\", {\r\n                     method: \"POST\",\r\n                     crossDomain: true,\r\n                     headers: {\r\n                       \"Content-Type\": \"application/json\",\r\n                       Accept: \"application/json\",\r\n                       \"Access-Control-Allow-Origin\": \"*\",\r\n                     },\r\n                     body: JSON.stringify({\r\n                       token: window.localStorage.getItem(\"token\"),\r\n                     }),\r\n                   })\r\n                     .then((res) => res.json())\r\n                     .then((data) => {\r\n                       console.log(data, \"userData\");\r\n                       if (data.data.userData == \"Admin\") {\r\n                         this.setState({\r\n                           admin: true,\r\n                         });\r\n                       }\r\n\r\n                       this.setState({ userData: data.data }); //getting data\r\n                       /*if( data.data == \"token expired\") {\r\n                    alert(\"token expired login again\");\r\n                    window.localStorage.clear();\r\n                    window.location.href = \"./sign-in\";\r\n                }*/\r\n                     });\r\n                 }\r\n                 logOut = () => {\r\n                   window.localStorage.clear();\r\n                   window.location.href = \"./sign-in\";\r\n                 };\r\n\r\n                 //     render() {\r\n\r\n                 //        if(this.state.admin){\r\n                 //         return this.adminDashboard(this.state.userData);\r\n                 //        }\r\n                 //        else{\r\n                 //         return this.studentDashboard(this.state.userData);\r\n                 //        }\r\n\r\n                 // }\r\n                 render() {\r\n                   const { admin, userData } = this.state;\r\n                  \r\n                   if (admin) {\r\n                     return <adminDashboard />;\r\n                   } else {\r\n                     return <studentDashboard userData={userData} />;\r\n                   }\r\n                 }\r\n               }\r\n\r\n\r\n              "],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAO,OAAO;AACvC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,gBAAgB,MAAM,oBAAoB;AAAC,IAG7BC,SAAS,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,SAAA,EAAAC,UAAA;EACb,SAAAD,UAAYG,KAAK,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAL,SAAA;IACjB;IACAI,KAAA,GAAAE,0BAAA,OAAAC,eAAA,CAAAP,SAAA,EAAAQ,IAAA,OAAML,KAAK;IAAEC,KAAA,CAqCfK,MAAM,GAAG,YAAM;MACbC,MAAM,CAACC,YAAY,CAACC,KAAK,EAAE;MAC3BF,MAAM,CAACG,QAAQ,CAACC,IAAI,GAAG,WAAW;IACpC,CAAC;IAvCCV,KAAA,CAAKW,KAAK,GAAG;MACTC,KAAK,EAAE,KAAK;MACZC,QAAQ,EAAE;IACd,CAAC;IAAC,OAAAb,KAAA;EACJ;EAACc,YAAA,CAAAlB,SAAA;IAAAmB,GAAA;IAAAC,KAAA,WAAAC,kBAAA,EAEmB;MAAA,IAAAC,MAAA;MAClBC,KAAK,CAAC,gCAAgC,EAAE;QACtCC,MAAM,EAAE,MAAM;QACdC,WAAW,EAAE,IAAI;QACjBC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,MAAM,EAAE,kBAAkB;UAC1B,6BAA6B,EAAE;QACjC,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,KAAK,EAAErB,MAAM,CAACC,YAAY,CAACqB,OAAO,CAAC,OAAO;QAC5C,CAAC;MACH,CAAC,CAAC,CACCC,IAAI,CAAC,UAACC,GAAG;QAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;MAAA,EAAC,CACzBF,IAAI,CAAC,UAACG,IAAI,EAAK;QACdC,OAAO,CAACC,GAAG,CAACF,IAAI,EAAE,UAAU,CAAC;QAC7B,IAAIA,IAAI,CAACA,IAAI,CAACnB,QAAQ,IAAI,OAAO,EAAE;UACjCK,MAAI,CAACiB,QAAQ,CAAC;YACZvB,KAAK,EAAE;UACT,CAAC,CAAC;QACJ;QAEAM,MAAI,CAACiB,QAAQ,CAAC;UAAEtB,QAAQ,EAAEmB,IAAI,CAACA;QAAK,CAAC,CAAC,CAAC,CAAC;QACxC;AACvB;AACA;AACA;AACA;MACqB,CAAC,CAAC;IACN;EAAC;IAAAjB,GAAA;IAMD;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IAAAC,KAAA,WAAAoB,OAAA,EACS;MAAA,IAAAC,WAAA,GACqB,IAAI,CAAC1B,KAAK;QAA9BC,KAAK,GAAAyB,WAAA,CAALzB,KAAK;QAAEC,QAAQ,GAAAwB,WAAA,CAARxB,QAAQ;MAEvB,IAAID,KAAK,EAAE;QACT,oBAAOpB,KAAA,CAAA8C,aAAA;UAAAC,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,EAAkB;MAC3B,CAAC,MAAM;QACL,oBAAOpD,KAAA,CAAA8C,aAAA;UAAkBzB,QAAQ,EAAEA,QAAS;UAAA0B,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,EAAG;MACjD;IACF;EAAC;EAAA,OAAAhD,SAAA;AAAA,EA/DqBH,SAAS;AAAA,SAA3BG,SAAS,IAAAiD,OAAA"},"metadata":{},"sourceType":"module"}