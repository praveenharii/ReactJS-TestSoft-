{"ast":null,"code":"import _readOnlyError from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/readOnlyError\";\nimport _slicedToArray from \"D:\\\\React\\\\testapp1\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\React\\\\testapp1\\\\src\\\\Pages\\\\dashboard.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n// import AdminDashboard from './adminDashboard';\n// import StudentDashboard from \"./studentDashboard\";\n// import TutorDashboard from \"./tutorDashboard\";\nvar AdminDashboard = React.lazy(function () {\n  return import(\"./adminDashboard\");\n});\nvar TutorDashboard = React.lazy(function () {\n  return import(\"./tutorDashboard\");\n});\nvar StudentDashboard = React.lazy(function () {\n  return import(\"./studentDashboard\");\n});\nexport default function Dashboard() {\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    userData = _useState2[0],\n    setUserData = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    adminDashboard = _useState4[0],\n    setAdminDashboard = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    tutorDashboard = _useState6[0],\n    setTutorDashboard = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    studentDashboard = _useState8[0],\n    setStudentDashboard = _useState8[1];\n  var navigate = useNavigate();\n  var token = localStorage.getItem(\"token\");\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    updatedProfileData = _useState10[0],\n    setUpdatedProfileData = _useState10[1];\n  useEffect(function () {\n    localStorage.getItem(\"updatedProfileData\"), _readOnlyError(\"setUserData\");\n    if (userData) {\n      setUpdatedProfileData(JSON.parse(userData));\n      localStorage.removeItem(\"updatedProfileData\");\n    } else {\n      fetch(\"http://localhost:5000/userData\", {\n        method: \"POST\",\n        crossDomain: true,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n          //Authorization: `Bearer ${token}`,\n        },\n\n        body: JSON.stringify({\n          token: window.localStorage.getItem(\"token\")\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data, \"userData\");\n        setUserData(data.data);\n        if (data.data.userType === \"Admin\") {\n          setAdminDashboard(true);\n        }\n        if (data.data.userType === \"Tutor\") {\n          setTutorDashboard(true);\n        }\n        if (data.data.userType === \"Student\") {\n          setStudentDashboard(true);\n        }\n        if (data.data == \"token expired\") {\n          alert(\"token expired login again, since you have changed your password\");\n          window.localStorage.clear();\n          window.location.href = \"./sign-in\";\n        }\n      });\n      //  .catch((error) => {\n      //   console.log(error);\n      //   navigate(\"/sign-in\");\n      //  })\n    }\n  }, [navigate]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, updatedProfileData && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }\n  }, \"Updated profile data:\", \" \", JSON.stringify(updatedProfileData)));\n  //   return adminDashboard ? (\n  //     <AdminDashboard userData={userData} />\n  //   ) : (\n  //     tutorDashboard ? (\n  //      <TutorDashboard userData={userData} />\n  //   ) : (\n  //      <StudentDashboard userData={userData} />\n  //   )\n\n  // );\n}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","AdminDashboard","lazy","TutorDashboard","StudentDashboard","Dashboard","_useState","_useState2","_slicedToArray","userData","setUserData","_useState3","_useState4","adminDashboard","setAdminDashboard","_useState5","_useState6","tutorDashboard","setTutorDashboard","_useState7","_useState8","studentDashboard","setStudentDashboard","navigate","token","localStorage","getItem","_useState9","_useState10","updatedProfileData","setUpdatedProfileData","_readOnlyError","JSON","parse","removeItem","fetch","method","crossDomain","headers","Accept","body","stringify","window","then","res","json","data","console","log","userType","alert","clear","location","href","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["D:/React/testapp1/src/Pages/dashboard.js"],"sourcesContent":["import React, { useEffect, useState }from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n// import AdminDashboard from './adminDashboard';\r\n// import StudentDashboard from \"./studentDashboard\";\r\n// import TutorDashboard from \"./tutorDashboard\";\r\nconst AdminDashboard = React.lazy(() => import(\"./adminDashboard\"));\r\nconst TutorDashboard = React.lazy(() => import(\"./tutorDashboard\"));\r\nconst StudentDashboard = React.lazy(() => import(\"./studentDashboard\"));\r\n\r\n\r\n\r\n\r\nexport default function Dashboard() {\r\n               const [userData, setUserData] = useState({});\r\n               const [adminDashboard, setAdminDashboard] = useState(false);\r\n               const [tutorDashboard, setTutorDashboard] =useState(false);\r\n               const [studentDashboard, setStudentDashboard] =useState(false);\r\n               const navigate = useNavigate();\r\n               const token = localStorage.getItem(\"token\"); \r\n               const [updatedProfileData, setUpdatedProfileData] = useState(\r\n                 null\r\n               );\r\n        \r\n\r\n                 useEffect(() => {\r\n                    setUserData = localStorage.getItem(\r\n                      \"updatedProfileData\"\r\n                    );\r\n                   if(userData){\r\n                     setUpdatedProfileData(JSON.parse(userData));\r\n                     localStorage.removeItem(\"updatedProfileData\");\r\n                   } else {     \r\n                   fetch(\"http://localhost:5000/userData\", {\r\n                     method: \"POST\",\r\n                     crossDomain: true,\r\n                     headers: {\r\n                       \"Content-Type\": \"application/json\",\r\n                       Accept: \"application/json\",\r\n                       \"Access-Control-Allow-Origin\": \"*\",\r\n                       //Authorization: `Bearer ${token}`,\r\n                     },\r\n                     body: JSON.stringify({\r\n                       token: window.localStorage.getItem(\"token\"),\r\n                     }),\r\n                   })\r\n                     .then((res) => res.json())\r\n                     .then((data) => {\r\n                       console.log(data, \"userData\");\r\n\r\n                       setUserData(data.data);\r\n\r\n                       if (data.data.userType === \"Admin\") {\r\n                         setAdminDashboard(true);\r\n                       }\r\n                       if (data.data.userType === \"Tutor\") {\r\n                         setTutorDashboard(true);\r\n                       }\r\n                       if (data.data.userType === \"Student\") {\r\n                         setStudentDashboard(true);\r\n                       }\r\n\r\n                     \r\n                       if( data.data == \"token expired\") {\r\n                    alert(\"token expired login again, since you have changed your password\");\r\n                    window.localStorage.clear();\r\n                    window.location.href = \"./sign-in\";\r\n                      }\r\n                      \r\n                     });\r\n                    //  .catch((error) => {\r\n                    //   console.log(error);\r\n                    //   navigate(\"/sign-in\");\r\n                    //  })\r\n                     }\r\n                 }, [navigate]);\r\n                 \r\n                return (\r\n                  <div>\r\n                    {updatedProfileData && (\r\n                      <p>\r\n                        Updated profile data:{\" \"}\r\n                        {JSON.stringify(updatedProfileData)}\r\n                      </p>\r\n                    )}\r\n\r\n                    {/* rest of the component code */}\r\n                  </div>\r\n                );\r\n              //   return adminDashboard ? (\r\n              //     <AdminDashboard userData={userData} />\r\n              //   ) : (\r\n              //     tutorDashboard ? (\r\n              //      <TutorDashboard userData={userData} />\r\n              //   ) : (\r\n              //      <StudentDashboard userData={userData} />\r\n              //   )\r\n\r\n              // );\r\n}\r\n\r\n\r\n              "],"mappings":"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"},"metadata":{},"sourceType":"module"}